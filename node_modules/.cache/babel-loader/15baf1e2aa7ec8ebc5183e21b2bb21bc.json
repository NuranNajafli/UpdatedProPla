{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Downloads/pro/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useRef, useState } from 'react';\nimport axios from \"../components/interceptors/axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const username = useRef('');\n  const password = useRef('');\n  const [err, setErr] = useState(false);\n  const navigate = useNavigate();\n\n  const sendRequest = e => {\n    e.preventDefault();\n    let data = {\n      username: username.current.value,\n      password: password.current.value\n    };\n    axios.post('Log', data).then(response => {\n      if (response.data) {\n        localStorage.setItem('token', response.data);\n        navigate('home');\n      } else {\n        console.log(JSON.stringify({\n          error: 'true'\n        }));\n        setErr(true);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-login\",\n    children: [err === true ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      children: \"Password or Email is incorrect!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => sendRequest(e),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-field\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: username,\n          type: \"text\",\n          placeholder: \"Email / Username\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-field\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: password,\n          type: \"text\",\n          placeholder: \"Password\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-field\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          type: \"submit\",\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"lACncN8d17chMFmrI8PU3PS//lo=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useNavigate","useRef","useState","axios","Login","username","password","err","setErr","navigate","sendRequest","e","preventDefault","data","current","value","post","then","response","localStorage","setItem","console","log","JSON","stringify","error"],"sources":["/Users/admin/Downloads/pro/src/components/Login.js"],"sourcesContent":["import React from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useRef, useState } from 'react';\nimport axios from \"../components/interceptors/axios\"\n\n\n\n\nfunction Login() {\n\n    const username = useRef('');\n    const password = useRef('');\n    const [err, setErr] = useState(false);\n\n    const navigate = useNavigate()\n    const sendRequest = (e) => {\n        e.preventDefault()\n        let data = {\n                username: username.current.value,\n                password: password.current.value\n        }\n        axios.post('Log', data)\n            .then((response) => {\n                if (response.data) {\n                    localStorage.setItem('token', response.data)\n                    navigate('home')\n                }\n                else {\n                    console.log(JSON.stringify({ error: 'true' }));\n                    setErr(true);\n                }\n            });\n    }\n\n    return (\n        <div className='main-login'>\n            {\n                err === true ? (\n                    <div className=\"alert alert-danger\" role=\"alert\">\n                        Password or Email is incorrect!\n                    </div>\n                ) : (\n                    <div></div>\n                )\n\n            }\n            <form onSubmit={(e) => sendRequest(e)}>\n                <div className=\"form-field\">\n                    <input ref={username} type=\"text\" placeholder=\"Email / Username\" required />\n                </div>\n                <div className=\"form-field\">\n                    <input ref={password} type=\"text\" placeholder=\"Password\" required />\n                </div>\n                <div className=\"form-field\">\n                    <button className=\"btn\" type=\"submit\">Log in</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Login"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,MAAT,EAAiBC,QAAjB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,kCAAlB;;;AAKA,SAASC,KAAT,GAAiB;EAAA;;EAEb,MAAMC,QAAQ,GAAGJ,MAAM,CAAC,EAAD,CAAvB;EACA,MAAMK,QAAQ,GAAGL,MAAM,CAAC,EAAD,CAAvB;EACA,MAAM,CAACM,GAAD,EAAMC,MAAN,IAAgBN,QAAQ,CAAC,KAAD,CAA9B;EAEA,MAAMO,QAAQ,GAAGT,WAAW,EAA5B;;EACA,MAAMU,WAAW,GAAIC,CAAD,IAAO;IACvBA,CAAC,CAACC,cAAF;IACA,IAAIC,IAAI,GAAG;MACHR,QAAQ,EAAEA,QAAQ,CAACS,OAAT,CAAiBC,KADxB;MAEHT,QAAQ,EAAEA,QAAQ,CAACQ,OAAT,CAAiBC;IAFxB,CAAX;IAIAZ,KAAK,CAACa,IAAN,CAAW,KAAX,EAAkBH,IAAlB,EACKI,IADL,CACWC,QAAD,IAAc;MAChB,IAAIA,QAAQ,CAACL,IAAb,EAAmB;QACfM,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,QAAQ,CAACL,IAAvC;QACAJ,QAAQ,CAAC,MAAD,CAAR;MACH,CAHD,MAIK;QACDY,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAe;UAAEC,KAAK,EAAE;QAAT,CAAf,CAAZ;QACAjB,MAAM,CAAC,IAAD,CAAN;MACH;IACJ,CAVL;EAWH,CAjBD;;EAmBA,oBACI;IAAK,SAAS,EAAC,YAAf;IAAA,WAEQD,GAAG,KAAK,IAAR,gBACI;MAAK,SAAS,EAAC,oBAAf;MAAoC,IAAI,EAAC,OAAzC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,gBAKI;MAAA;MAAA;MAAA;IAAA,QAPZ,eAWI;MAAM,QAAQ,EAAGI,CAAD,IAAOD,WAAW,CAACC,CAAD,CAAlC;MAAA,wBACI;QAAK,SAAS,EAAC,YAAf;QAAA,uBACI;UAAO,GAAG,EAAEN,QAAZ;UAAsB,IAAI,EAAC,MAA3B;UAAkC,WAAW,EAAC,kBAA9C;UAAiE,QAAQ;QAAzE;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QADJ,eAII;QAAK,SAAS,EAAC,YAAf;QAAA,uBACI;UAAO,GAAG,EAAEC,QAAZ;UAAsB,IAAI,EAAC,MAA3B;UAAkC,WAAW,EAAC,UAA9C;UAAyD,QAAQ;QAAjE;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QAJJ,eAOI;QAAK,SAAS,EAAC,YAAf;QAAA,uBACI;UAAQ,SAAS,EAAC,KAAlB;UAAwB,IAAI,EAAC,QAA7B;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QAPJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAXJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAyBH;;GAnDQF,K;UAMYJ,W;;;KANZI,K;AAqDT,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}