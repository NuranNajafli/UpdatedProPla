{"ast":null,"code":"var _localStorage;\n\nimport axios from 'axios';\naxios.defaults.baseURL = 'http://10.1.4.64:85/api/';\naxios.defaults.headers.common['Authorization'] = `bearer ${(_localStorage = localStorage) === null || _localStorage === void 0 ? void 0 : _localStorage.token}`; // let refresh = false;\n// axios.interceptors.response.use(resp => resp, async error => {\n//     if (error.response.status === 401 && !refresh) {\n//         refresh = true\n//         const response = await axios.post(\"refresh\", {}, { withCredentials: true })\n//     }\n//     if (response.status === 200) {\n//         axios.defaults.headers.common['Authorization'] = `Bearer ${response.data['token']}`\n//         return axios(error.config);\n//     }\n//     refresh = false\n//     return error;\n// })\n// export default axios.create({\n//     baseURL:'http://10.1.4.64:85/api/',\n// })\n\nexport default axios;","map":{"version":3,"names":["axios","defaults","baseURL","headers","common","localStorage","token"],"sources":["/Users/admin/Downloads/pro/src/components/interceptors/axios.js"],"sourcesContent":["import axios from 'axios'\r\n\r\n\r\naxios.defaults.baseURL = 'http://10.1.4.64:85/api/'\r\naxios.defaults.headers.common['Authorization']=`bearer ${localStorage?.token}`\r\n\r\n\r\n\r\n// let refresh = false;\r\n// axios.interceptors.response.use(resp => resp, async error => {\r\n//     if (error.response.status === 401 && !refresh) {\r\n//         refresh = true\r\n//         const response = await axios.post(\"refresh\", {}, { withCredentials: true })\r\n//     }\r\n//     if (response.status === 200) {\r\n//         axios.defaults.headers.common['Authorization'] = `Bearer ${response.data['token']}`\r\n//         return axios(error.config);\r\n//     }\r\n\r\n//     refresh = false\r\n//     return error;\r\n// })\r\n\r\n\r\n// export default axios.create({\r\n//     baseURL:'http://10.1.4.64:85/api/',\r\n// })\r\n\r\n\r\nexport default axios"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGAA,KAAK,CAACC,QAAN,CAAeC,OAAf,GAAyB,0BAAzB;AACAF,KAAK,CAACC,QAAN,CAAeE,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAgD,UAAD,iBAAUC,YAAV,kDAAU,cAAcC,KAAM,EAA7E,C,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;;AAGA,eAAeN,KAAf"},"metadata":{},"sourceType":"module"}